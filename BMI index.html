<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BMI Calculator</title>
    <style>
        /* style.css content starts here */
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f2f5;
            display: flex;
            justify-content: center;
            align-items: flex-start; /* Align to the top initially */
            min-height: 100vh;
            margin: 20px; /* Add some margin around the container */
            box-sizing: border-box;
        }

        .container {
            background-color: #fff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 600px;
            box-sizing: border-box;
        }

        header {
            text-align: center;
            margin-bottom: 25px;
        }

        h1 {
            color: #333;
            font-size: 28px;
            margin-bottom: 5px;
        }

        .calculator-section, .bmi-result-section {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 25px;
        }

        .tab-buttons {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 1px solid #eee;
        }

        .tab-button {
            flex: 1;
            padding: 12px 15px;
            border: none;
            background-color: transparent;
            cursor: pointer;
            font-size: 16px;
            color: #555;
            border-bottom: 2px solid transparent;
            transition: all 0.3s ease;
        }

        .tab-button.active {
            color: #007bff;
            border-bottom-color: #007bff;
            font-weight: bold;
        }

        .tab-button:hover:not(.active) {
            background-color: #f8f9fa;
        }

        .unit-converter {
            margin-top: 15px;
            padding: 15px;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            background-color: #f9f9f9;
        }

        .unit-converter h2 {
            font-size: 18px;
            color: #444;
            margin-bottom: 15px;
            text-align: center;
        }

        .converter-tabs {
            display: flex;
            justify-content: space-around;
            margin-bottom: 15px;
            flex-wrap: wrap; /* Allow tabs to wrap on smaller screens */
        }

        .converter-tab {
            padding: 8px 12px;
            border: 1px solid #ccc;
            border-radius: 4px;
            background-color: #e9ecef;
            cursor: pointer;
            font-size: 14px;
            margin: 5px;
            transition: background-color 0.3s ease, border-color 0.3s ease;
        }

        .converter-tab.active {
            background-color: #007bff;
            color: #fff;
            border-color: #007bff;
        }

        .converter-tab:hover:not(.active) {
            background-color: #d6e9ff;
        }

        .converter-section {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            gap: 10px;
            justify-content: center;
        }

        .converter-section input[type="number"],
        .converter-section select {
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 16px;
            width: calc(50% - 15px); /* Adjusted width for two columns with gap */
            box-sizing: border-box;
        }
       .converter-section input[type="number"][readonly] {
            background-color: #e9ecef;
            cursor: not-allowed;
        }

        .bmi-inputs {
            padding: 10px 0;
        }

        .input-group {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .input-group label {
            width: 100px;
            font-weight: bold;
            color: #333;
            margin-right: 15px;
            flex-shrink: 0;
        }

        .input-group input[type="number"] {
            flex-grow: 1;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 16px;
            max-width: 150px; /* Limit width for number inputs */
        }

        .input-group span {
            margin-left: 10px;
            color: #666;
            font-size: 14px;
        }

        .radio-label {
            margin-right: 20px;
            display: flex;
            align-items: center;
            cursor: pointer;
        }

        .radio-label input[type="radio"] {
            margin-right: 8px;
            transform: scale(1.2); /* Make radio buttons slightly larger */
        }

        .button-group {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 25px;
        }

        .button-group button {
            padding: 12px 25px;
            border: none;
            border-radius: 5px;
            font-size: 18px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        #calculate-btn {
            background-color: #28a745;
            color: #fff;
        }

        #calculate-btn:hover {
            background-color: #218838;
        }

        #clear-btn {
            background-color: #dc3545;
            color: #fff;
        }

        #clear-btn:hover {
            background-color: #c82333;
        }

        .bmi-result-section h2 {
            text-align: center;
            color: #333;
            font-size: 24px;
            margin-bottom: 20px;
        }

        /* BMI Gauge Styling */
        .bmi-gauge {
            position: relative;
            width: 300px; /* Adjust as needed */
            height: 150px; /* Half of width for semi-circle */
            margin: 0 auto 30px;
            overflow: hidden; /* Hide the full circle */
            border-radius: 50% 50% 0 0 / 100% 100% 0 0; /* Make it a perfect semi-circle */
        }

        .gauge-arc {
            background: conic-gradient(
                #ffc107 0% 15%,     /* Underweight (adjust percentage for accurate range) */
                #28a745 15% 45%,    /* Normal */
                #fd7e14 45% 65%,    /* Overweight */
                #dc3545 65% 100%    /* Obese */
            );
            border-radius: 50%;
            position: absolute;
            width: 100%;
            height: 200%; /* For full circle */
            left: 0;
            top: 0;
            transform: translateY(-50%);
            clip-path: polygon(0 50%, 100% 50%, 100% 100%, 0 100%); /* Keep only the bottom half */
            transform: rotate(calc(-90deg + var(--start-angle, 0deg))); /* Rotate to align 0 with the start */
            transform-origin: 50% 100%; /* Rotate around the bottom center */
        }

        /* Actual gauge ring that sits on top of the colored arc */
        .gauge-arc-ring {
            position: absolute;
            width: 100%;
            height: 200%;
            border-radius: 50%;
            left: 0;
            top: 0;
            transform: translateY(-50%);
            clip-path: polygon(0 50%, 100% 50%, 100% 100%, 0 100%);
            border: 40px solid #f0f2f5; /* Background color of the gauge track */
            box-sizing: border-box;
        }

        .gauge-pointer {
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 8px;
            height: 100px; /* Length of the pointer */
            background-color: #333;
            transform-origin: bottom center;
            transform: translateX(-50%) rotate(-90deg); /* Initial position (pointing to 0/start) */
            transition: transform 1s ease-out; /* Animation for the pointer */
            border-radius: 4px;
            z-index: 10;
        }

        .bmi-value {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            color: #333;
            font-size: 36px;
            font-weight: bold;
            z-index: 15; /* Ensure it's above pointer */
              }
      .bmi-value span:last-child {
            display: block;
            font-size: 18px;
            font-weight: normal;
            color: #555;
            margin-top: 5px;
        }

        .gauge-labels {
            position: absolute;
            width: 100%;
            bottom: 5px;
            left: 0;
            display: flex;
            justify-content: space-between;
            padding: 0 10px;
            box-sizing: border-box;
            font-size: 12px;
            color: #555;
            z-index: 5;
        }

        .gauge-labels .label {
            position: absolute;
            transform: translateX(-50%); /* Center text under pointer */
            font-weight: bold;
        }

        .gauge-labels .under {
            left: 15%; /* Approximate position */
            color: #ffc107;
        }
        .gauge-labels .normal {
            left: 35%;
            color: #28a745;
        }
        .gauge-labels .over {
            left: 65%;
            color: #fd7e14;
        }
        .gauge-labels .obese {
            left: 85%;
            color: #dc3545;
        }

        .gauge-numbers {
            position: absolute;
            bottom: -10px; /* Adjust vertical position */
            left: 0;
            width: 100%;
            display: flex;
            justify-content: space-between;
            padding: 0 5px;
            box-sizing: border-box;
            font-size: 12px;
            color: #777;
            z-index: 5;
        }

        .gauge-numbers .num {
            position: absolute;
            transform: translateX(-50%);
        }

        /* Precise positioning for numbers around the arc */
        /* These will need to be carefully calculated based on the angle */
        .gauge-numbers .n16 { left: 10%; } /* Example, precise positioning needed */
        .gauge-numbers .n17 { left: 15%; }
        .gauge-numbers .n18-5 { left: 25%; }
        .gauge-numbers .n25 { left: 45%; }
        .gauge-numbers .n30 { left: 60%; }
        .gauge-numbers .n35 { left: 75%; }
        .gauge-numbers .n40 { left: 90%; }


        .result-details {
            margin-top: 30px;
            padding: 15px;
            border: 1px solid #eee;
            border-radius: 6px;
            background-color: #f9f9f9;
        }

        .result-details p {
            margin-bottom: 10px;
            font-size: 16px;
            color: #444;
            line-height: 1.5;
        }

        .result-details p:last-child {
            margin-bottom: 0;
        }

        .footer-text {
            margin-top: 30px;
            font-size: 14px;
            color: #777;
            line-height: 1.6;
            text-align: justify;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }

            .tab-button {
                font-size: 14px;
                padding: 10px 8px;
            }

            .input-group label {
                width: 80px;
                margin-right: 10px;
            }

            .input-group input[type="number"] {
                max-width: 120px;
            }

            .button-group button {
                padding: 10px 20px;
                font-size: 16px;
            }

            .bmi-gauge {
                width: 250px;
                height: 125px;
            }

            .gauge-arc::before,
            .gauge-arc::after {
                border-width: 30px;
            }

            .gauge-pointer {
                height: 80px;
            }

            .bmi-value {
                font-size: 30px;
            }

            .bmi-value span:last-child {
                font-size: 16px;
            }

            .gauge-labels, .gauge-numbers {
                font-size: 10px;
            }

            .converter-section input[type="number"],
            .converter-section select {
                width: 100%; /* Stack on smaller screens */
            }
        }

        @media (max-width: 480px) {
            .tab-buttons {
                flex-direction: column;
            }

            .tab-button {
                border-bottom: none;
                border-right: 1px solid #eee; /* Add separator for vertical tabs */
                margin-bottom: 5px;
            }
            .tab-button.active {
                border-right-color: #007bff;
            }

            .input-group {
                flex-direction: column;
                align-items: flex-start;
            }

            .input-group label {
                margin-bottom: 5px;
                width: auto;
            }

            .input-group input[type="number"] {
                width: 100%;
                max-width: none;
            }

            .button-group {
                flex-direction: column;
                gap: 10px;
            }

            .bmi-gauge {
                width: 200px;
                height: 100px;
            }

            .gauge-arc::before,
            .gauge-arc::after {
                border-width: 25px;
            }

            .gauge-pointer {
                height: 70px;
            }

            .bmi-value {
                font-size: 24px;
            }

            .bmi-value span:last-child {
                font-size: 14px;
            }
        }
        /* style.css content ends here */
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>BMI Calculator</h1>
        </header>

        <div class="calculator-section">
            <div class="tab-buttons">
                <button class="tab-button active" data-unit="metric">Metric Units</button>
                <button class="tab-button" data-unit="us">US Units</button>
                <button class="tab-button" data-unit="other">Other Units</button>
            </div>

            <div class="unit-converter" style="display: none;">
                <h2>Convert units accepted by the calculator:</h2>
                <div class="converter-tabs">
                    <button class="converter-tab active" data-type="length">Length</button>
                    <button class="converter-tab" data-type="temp">Temp</button>
                    <button class="converter-tab" data-type="area">Area</button>
                    <button class="converter-tab" data-type="volume">Volume</button>
                    <button class="converter-tab" data-type="weight">Weight</button>
                </div>
                <div class="converter-content">
                    <div class="converter-section active" id="length-converter">
                        <input type="number" id="length-from-value" placeholder="From">
                        <select id="length-from-unit">
                            <option value="meter">Meter</option>
                            <option value="kilometer">Kilometer</option>
                            <option value="centimeter">Centimeter</option>
                            <option value="millimeter">Millimeter</option>
                            <option value="micrometer">Micrometer</option>
                            <option value="nanometer">Nanometer</option>
                            <option value="mile">Mile</option>
                            <option value="yard">Yard</option>
                            <option value="foot">Foot</option>
                            <option value="inch">Inch</option>
                            <option value="light-year">Light Year</option>
                          </select>
                        <input type="number" id="length-to-value" placeholder="To" readonly>
                        <select id="length-to-unit">
                            <option value="kilometer">Kilometer</option>
                            <option value="meter">Meter</option>
                            <option value="centimeter">Centimeter</option>
                            <option value="millimeter">Millimeter</option>
                            <option value="micrometer">Micrometer</option>
                            <option value="nanometer">Nanometer</option>
                            <option value="mile">Mile</option>
                            <option value="yard">Yard</option>
                            <option value="foot">Foot</option>
                            <option value="inch">Inch</option>
                            <option value="light-year">Light Year</option>
                        </select>
                    </div>
                    <div class="converter-section" id="temp-converter" style="display: none;">
                        <input type="number" id="temp-from-value" placeholder="From">
                        <select id="temp-from-unit">
                            <option value="celsius">Celsius</option>
                            <option value="kelvin">Kelvin</option>
                            <option value="fahrenheit">Fahrenheit</option>
                        </select>
                        <input type="number" id="temp-to-value" placeholder="To" readonly>
                        <select id="temp-to-unit">
                            <option value="kelvin">Kelvin</option>
                            <option value="celsius">Celsius</option>
                            <option value="fahrenheit">Fahrenheit</option>
                        </select>
                    </div>
                    <div class="converter-section" id="area-converter" style="display: none;">
                        <input type="number" id="area-from-value" placeholder="From">
                        <select id="area-from-unit">
                            <option value="square-meter">Square Meter</option>
                            <option value="square-kilometer">Square Kilometer</option>
                            <option value="square-centimeter">Square Centimeter</option>
                            <option value="square-millimeter">Square Millimeter</option>
                            <option value="square-micrometer">Square Micrometer</option>
                            <option value="hectare">Hectare</option>
                            <option value="square-mile">Square Mile</option>
                            <option value="square-yard">Square Yard</option>
                            <option value="square-foot">Square Foot</option>
                            <option value="square-inch">Square Inch</option>
                            <option value="acre">Acre</option>
                        </select>
                        <input type="number" id="area-to-value" placeholder="To" readonly>
                        <select id="area-to-unit">
                            <option value="square-kilometer">Square Kilometer</option>
                            <option value="square-meter">Square Meter</option>
                            <option value="square-centimeter">Square Centimeter</option>
                            <option value="square-millimeter">Square Millimeter</option>
                            <option value="square-micrometer">Square Micrometer</option>
                            <option value="hectare">Hectare</option>
                            <option value="square-mile">Square Mile</option>
                            <option value="square-yard">Square Yard</option>
                            <option value="square-foot">Square Foot</option>
                            <option value="square-inch">Square Inch</option>
                            <option value="acre">Acre</option>
                        </select>
                    </div>
                    <div class="converter-section" id="volume-converter" style="display: none;">
                        <input type="number" id="volume-from-value" placeholder="From">
                        <select id="volume-from-unit">
                            <option value="cubic-meter">Cubic Meter</option>
                            <option value="cubic-kilometer">Cubic Kilometer</option>
                            <option value="cubic-centimeter">Cubic Centimeter</option>
                            <option value="cubic-millimeter">Cubic Millimeter</option>
                            <option value="liter">Liter</option>
                            <option value="milliliter">Milliliter</option>
                            <option value="us-gallon">US Gallon</option>
                            <option value="us-quart">US Quart</option>
                            <option value="us-pint">US Pint</option>
                            <option value="us-cup">US Cup</option>
                            <option value="us-fluid-ounce">US Fluid Ounce</option>
                            <option value="us-table-spoon">US Table Spoon</option>
                            <option value="us-tea-spoon">US Tea Spoon</option>
                            <option value="imperial-gallon">Imperial Gallon</option>
                            <option value="imperial-quart">Imperial Quart</option>
                            <option value="imperial-pint">Imperial Pint</option>
                            <option value="imperial-fluid-ounce">Imperial Fluid Ounce</option>
                        </select>
                        <input type="number" id="volume-to-value" placeholder="To" readonly>
                        <select id="volume-to-unit">
                            <option value="cubic-kilometer">Cubic Kilometer</option>
                            <option value="cubic-meter">Cubic Meter</option>
                            <option value="cubic-centimeter">Cubic Centimeter</option>
                            <option value="cubic-millimeter">Cubic Millimeter</option>
                            <option value="liter">Liter</option>
                            <option value="milliliter">Milliliter</option>
                            <option value="us-gallon">US Gallon</option>
                            <option value="us-quart">US Quart</option>
                            <option value="us-pint">US Pint</option>
                            <option value="us-cup">US Cup</option>
                            <option value="us-fluid-ounce">US Fluid Ounce</option>
                            <option value="us-table-spoon">US Table Spoon</option>
                            <option value="us-tea-spoon">US Tea Spoon</option>
                            <option value="imperial-gallon">Imperial Gallon</option>
                            <option value="imperial-quart">Imperial Quart</option>
                            <option value="imperial-pint">Imperial Pint</option>
                            <option value="imperial-fluid-ounce">Imperial Fluid Ounce</option>
                        </select>
                    </div>
                    <div class="converter-section" id="weight-converter" style="display: none;">
                        <input type="number" id="weight-from-value" placeholder="From">
                        <select id="weight-from-unit">
                            <option value="kilogram">Kilogram</option>
                            <option value="gram">Gram</option>
                            <option value="milligram">Milligram</option>
                            <option value="metric-ton">Metric Ton</option>
                            <option value="long-ton">Long Ton</option>
                            <option value="short-ton">Short Ton</option>
                            <option value="pound">Pound</option>
                            <option value="ounce">Ounce</option>
                            <option value="carat">Carat</option>
                            <option value="atomic-mass-unit">Atomic Mass Unit</option>
                        </select>
                        <input type="number" id="weight-to-value" placeholder="To" readonly>
                        <select id="weight-to-unit">
                            <option value="gram">Gram</option>
                            <option value="kilogram">Kilogram</option>
                            <option value="milligram">Milligram</option>
                            <option value="metric-ton">Metric Ton</option>
                            <option value="long-ton">Long Ton</option>
                            <option value="short-ton">Short Ton</option>
                            <option value="pound">Pound</option>
                            <option value="ounce">Ounce</option>
                            <option value="carat">Carat</option>
                            <option value="atomic-mass-unit">Atomic Mass Unit</option>
                              
      </select>
                    </div>
                </div>
            </div>

            <div class="bmi-inputs">
                <div class="input-group">
                    <label for="age">Age</label>
                    <input type="number" id="age" value="25" min="2" max="120">
                    <span>ages: 2 - 120</span>
                </div>
                <div class="input-group">
                    <label>Gender</label>
                    <label class="radio-label"><input type="radio" name="gender" value="male" checked> Male</label>
                    <label class="radio-label"><input type="radio" name="gender" value="female"> Female</label>
                </div>

                <div class="input-group metric-units">
                    <label for="height-cm">Height</label>
                    <input type="number" id="height-cm" value="180">
                    <span>cm</span>
                </div>
                <div class="input-group metric-units">
                    <label for="weight-kg">Weight</label>
                    <input type="number" id="weight-kg" value="65">
                    <span>kg</span>
                </div>

                <div class="input-group us-units" style="display: none;">
                    <label for="height-feet">Height</label>
                    <input type="number" id="height-feet" value="5" min="0">
                    <span>feet</span>
                    <input type="number" id="height-inches" value="10" min="0" max="11">
                    <span>inches</span>
                </div>
                <div class="input-group us-units" style="display: none;">
                    <label for="weight-pounds">Weight</label>
                    <input type="number" id="weight-pounds" value="160">
                    <span>pounds</span>
                </div>

                <div class="button-group">
                    <button id="calculate-btn">Calculate</button>
                    <button id="clear-btn">Clear</button>
                </div>
            </div>
        </div>

        <div class="bmi-result-section" style="display: none;">
            <h2>Result</h2>
            <div class="bmi-gauge">
                <div class="gauge-arc"></div>
                <div class="gauge-arc-ring"></div> <div class="gauge-pointer"></div>
                <div class="bmi-value">
                    <span id="bmi-display">20.1</span>
                    <span id="bmi-status">(Normal)</span>
                </div>
                <div class="gauge-labels">
                    <span class="label under">Underweight</span>
                    <span class="label normal">Normal</span>
                    <span class="label over">Overweight</span>
                    <span class="label obese">Obesity</span>
                </div>
                <div class="gauge-numbers">
                    <span class="num n16">16</span>
                    <span class="num n17">17</span>
                    <span class="num n18-5">18.5</span>
                    <span class="num n25">25</span>
                    <span class="num n30">30</span>
                    <span class="num n35">35</span>
                    <span class="num n40">40</span>
                </div>
            </div>
            <div class="result-details">
                <p>• Healthy BMI range: <span id="healthy-bmi-range">18.5 kg/m² - 25 kg/m²</span></p>
                <p>• Healthy weight for the height: <span id="healthy-weight-range">59.9 kg - 81 kg</span></p>
                <p>• BMI Prime: <span id="bmi-prime">0.8</span></p>
                <p>• Ponderal Index: <span id="ponderal-index">11.1 kg/m³</span></p>
            </div>
        </div>

        <div class="footer-text">
            <p>The Body Mass Index (BMI) Calculator can be used to calculate BMI value and corresponding weight status while taking age into consideration. Use the "Metric Units" tab for the International System of Units or the "Other Units" tab to convert units into either US or metric units. Note that the calculator also computes the Ponderal Index in addition to BMI, both of which are discussed below in detail.</p>
        </div>
    </div>

    <script>
        /* script.js content starts here */
        document.addEventListener('DOMContentLoaded', () => {
            const tabButtons = document.querySelectorAll('.tab-button');
            const metricUnitsDiv = document.querySelector('.metric-units');
            const usUnitsDiv = document.querySelector('.us-units');
            const otherUnitsTab = document.querySelector('.tab-button[data-unit="other"]');
            const unitConverterDiv = document.querySelector('.unit-converter');
            const calculateBtn = document.getElementById('calculate-btn');
            const clearBtn = document.getElementById('clear-btn');
            const bmiResultSection = document.querySelector('.bmi-result-section');
            const bmiDisplay = document.getElementById('bmi-display');
            const bmiStatus = document.getElementById('bmi-status');
            const healthyBmiRange = document.getElementById('healthy-bmi-range');
            const healthyWeightRange = document.getElementById('healthy-weight-range');
            const bmiPrime = document.getElementById('bmi-prime');
            const ponderalIndex = document.getElementById('ponderal-index');
            const gaugePointer = document.querySelector('.gauge-pointer');

            // Unit Converter Elements
            const converterTabs = document.querySelectorAll('.converter-tab');
            const converterSections = document.querySelectorAll('.converter-section');
            const lengthFromValue = document.getElementById('length-from-value');
            const lengthFromUnit = document.getElementById('length-from-unit');
            const lengthToValue = document.getElementById('length-to-value');
            const lengthToUnit = document.getElementById('length-to-unit');

            const tempFromValue = document.getElementById('temp-from-value');
            const tempFromUnit = document.getElementById('temp-from-unit');
            const tempToValue = document.getElementById('temp-to-value');
            const tempToUnit = document.getElementById('temp-to-unit');

            const areaFromValue = document.getElementById('area-from-value');
            const areaFromUnit = document.getElementById('area-from-unit');
            const areaToValue = document.getElementById('area-to-value');
            const areaToUnit = document.getElementById('area-to-unit');

            const volumeFromValue = document.getElementById('volume-from-value');
            const volumeFromUnit = document.getElementById('volume-from-unit');
            const volumeToValue = document.getElementById('volume-to-value');
            const volumeToUnit = document.getElementById('volume-to-unit');

            const weightFromValue = document.getElementById('weight-from-value');
            const weightFromUnit = document.getElementById('weight-from-unit');
            const weightToValue = document.getElementById('weight-to-value');
            const weightToUnit = document.getElementById('weight-to-unit');


            let currentUnitSystem = 'metric'; // Default

            // Tab Switching Logic
            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    tabButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
                    currentUnitSystem = button.dataset.unit;

                    if (currentUnitSystem === 'metric') {
                        metricUnitsDiv.style.display = 'flex';
                        usUnitsDiv.style.display = 'none';
                        unitConverterDiv.style.display = 'none';
                    } else if (currentUnitSystem === 'us') {
                        metricUnitsDiv.style.display = 'none';
                        usUnitsDiv.style.display = 'flex';
                        unitConverterDiv.style.display = 'none';
                    } else if (currentUnitSystem === 'other') {
                        metricUnitsDiv.style.display = 'none';
                        usUnitsDiv.style.display = 'none';
                        unitConverterDiv.style.display = 'block';
                        // Show default converter section
                        converterTabs.forEach(tab => tab.classList.remove('active'));
                        converterTabs[0].classList.add('active');
                        converterSections.forEach(section => section.style.display = 'none');
                        document.getElementById('length-converter').style.display = 'flex';
                    }
                    bmiResultSection.style.display = 'none'; // Hide results when changing tabs
                });
            });

            // Unit Converter Tab Switching
            converterTabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    converterTabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    converterSections.forEach(section => section.style.display = 'none');
                    document.getElementById(`${tab.dataset.type}-converter`).style.display = 'flex';
                });
            });

            // Unit Conversion Logic (Placeholder for conversion factors)
            const conversionFactors = {
                length: {
                    meter: {
                        kilometer: 0.001, centimeter: 100, millimeter: 1000, micrometer: 1e6, nanometer: 1e9,
                        mile: 0.000621371, yard: 1.09361, foot: 3.28084, inch: 39.3701, 'light-year': 1.057e-16,
                        meter: 1
                    },
                    kilometer: {
                        meter: 1000, centimeter: 1e5, millimeter: 1e6, micrometer: 1e9, nanometer: 1e12,
                        mile: 0.621371, yard: 1093.61, foot: 3280.84, inch: 39370.1, 'light-year': 1.057e-13,
                        kilometer: 1
                    },
                    centimeter: {
                        meter: 0.01, kilometer: 1e-5, millimeter: 10, micrometer: 1e4, nanometer: 1e7,
                        mile: 6.2137e-6, yard: 0.0109361, foot: 0.0328084, inch: 0.393701, 'light-year': 1.057e-18,
                        centimeter: 1
                    },
                    millimeter: {
                        meter: 0.001, kilometer: 1e-6, centimeter: 0.1, micrometer: 1000, nanometer: 1e6,
                        mile: 6.2137e-7, yard: 0.00109361, foot: 0.00328084, inch: 0.0393701, 'light-year': 1.057e-19,
                        millimeter: 1
                    },
                    micrometer: {
                        meter: 1e-6, kilometer: 1e-9, centimeter: 1e-4, millimeter: 0.001, nanometer: 1000,
                        mile: 6.2137e-10, yard: 1.0936e-6, foot: 3.2808e-6, inch: 3.937e-5, 'light-year': 1.057e-22,
                        micrometer: 1
                    },
                    nanometer: {
                        meter: 1e-9, kilometer: 1e-12, centimeter: 1e-7, millimeter: 1e-6, micrometer: 0.001,
                        mile: 6.2137e-13, yard: 1.0936e-9, foot: 3.2808e-9, inch: 3.937e-8, 'light-year': 1.057e-25,
                        nanometer: 1
                    },
                    mile: {
                        meter: 1609.34, kilometer: 1.60934, centimeter: 160934, millimeter: 1.609e6, micrometer: 1.609e9,
                        nanometer: 1.609e12, yard: 1760, foot: 5280, inch: 63360, 'light-year': 1.701e-13,
                        mile: 1
                    },
                    yard: {
                        meter: 0.9144, kilometer: 0.0009144, centimeter: 91.44, millimeter: 914.4, micrometer: 914400,
                        nanometer: 9.144e8, mile: 0.000568182, foot: 3, inch: 36, 'light-year': 9.673e-17,
                        yard: 1
                    },
                    foot: {
                        meter: 0.3048, kilometer: 0.0003048, centimeter: 30.48, millimeter: 304.8, micrometer: 304800,
                        nanometer: 3.048e8, mile: 0.000189394, yard: 0.333333, inch: 12, 'light-year': 3.224e-17,
                        foot: 1
                    },
                    inch: {
                        meter: 0.0254, kilometer: 2.54e-5, centimeter: 2.54, millimeter: 25.4, micrometer: 25400,
                        nanometer: 2.54e7, mile: 1.5783e-5, yard: 0.0277778, foot: 0.0833333, 'light-year': 2.686e-18,

      inch: 1
                    },
                    'light-year': {
                        meter: 9.461e15, kilometer: 9.461e12, centimeter: 9.461e17, millimeter: 9.461e18, micrometer: 9.461e21,
                        nanometer: 9.461e24, mile: 5.879e12, yard: 1.03e16, foot: 3.104e16, inch: 3.725e17,
                        'light-year': 1
                    }
                },
                temp: {
                    celsius: {
                        kelvin: (c) => c + 273.15,
                        fahrenheit: (c) => (c * 9/5) + 32,
                        celsius: (c) => c
                    },
                    kelvin: {
                        celsius: (k) => k - 273.15,
                        fahrenheit: (k) => (k - 273.15) * 9/5 + 32,
                        kelvin: (k) => k
                    },
                    fahrenheit: {
                        celsius: (f) => (f - 32) * 5/9,
                        kelvin: (f) => (f - 32) * 5/9 + 273.15,
                        fahrenheit: (f) => f
                    }
                },
                area: {
                    'square-meter': {
                        'square-kilometer': 1e-6, 'square-centimeter': 1e4, 'square-millimeter': 1e6,
                        'square-micrometer': 1e12, hectare: 1e-4, 'square-mile': 3.861e-7,
                        'square-yard': 1.19599, 'square-foot': 10.7639, 'square-inch': 1550, acre: 0.000247105,
                        'square-meter': 1
                    },
                    'square-kilometer': {
                        'square-meter': 1e6, 'square-centimeter': 1e10, 'square-millimeter': 1e12,
                        'square-micrometer': 1e18, hectare: 100, 'square-mile': 0.386102,
                        'square-yard': 1.196e6, 'square-foot': 1.076e7, 'square-inch': 1.55e9, acre: 247.105,
                        'square-kilometer': 1
                    },
                    'square-centimeter': {
                        'square-meter': 1e-4, 'square-kilometer': 1e-10, 'square-millimeter': 100,
                        'square-micrometer': 1e8, hectare: 1e-8, 'square-mile': 3.861e-11,
                        'square-yard': 0.000119599, 'square-foot': 0.00107639, 'square-inch': 0.155, acre: 2.471e-9,
                        'square-centimeter': 1
                    },
                    'square-millimeter': {
                        'square-meter': 1e-6, 'square-kilometer': 1e-12, 'square-centimeter': 0.01,
                        'square-micrometer': 1e6, hectare: 1e-10, 'square-mile': 3.861e-13,
                        'square-yard': 1.19599e-6, 'square-foot': 1.07639e-5, 'square-inch': 0.00155, acre: 2.471e-11,
                        'square-millimeter': 1
                    },
                    'square-micrometer': {
                        'square-meter': 1e-12, 'square-kilometer': 1e-18, 'square-centimeter': 1e-8,
                        'square-millimeter': 1e-6, hectare: 1e-16, 'square-mile': 3.861e-19,
                        'square-yard': 1.19599e-12, 'square-foot': 1.07639e-11, 'square-inch': 1.55e-9, acre: 2.471e-17,
                        'square-micrometer': 1
                    },
                    hectare: {
                        'square-meter': 10000, 'square-kilometer': 0.01, 'square-centimeter': 1e8,
                        'square-millimeter': 1e10, 'square-micrometer': 1e16, 'square-mile': 0.00386102,
                        'square-yard': 11959.9, 'square-foot': 107639, 'square-inch': 1.55e7, acre: 2.47105,
                        hectare: 1
                    },
                    'square-mile': {
                        'square-meter': 2.59e6, 'square-kilometer': 2.58999, 'square-centimeter': 2.59e10,
                        'square-millimeter': 2.59e12, 'square-micrometer': 2.59e18, hectare: 258.999,
                        'square-yard': 3.0976e6, 'square-foot': 2.78784e7, 'square-inch': 4.01449e9, acre: 640,
                        'square-mile': 1
                    },
                    'square-yard': {
                        'square-meter': 0.836127, 'square-kilometer': 8.361e-7, 'square-centimeter': 8361.27,
                        'square-millimeter': 836127, 'square-micrometer': 8.361e11, hectare: 8.361e-5,
                        'square-mile': 3.2283e-7, 'square-foot': 9, 'square-inch': 1296, acre: 0.000206612,
                        'square-yard': 1
                    },
                    'square-foot': {
                        'square-meter': 0.092903, 'square-kilometer': 9.2903e-8, 'square-centimeter': 929.03,
                        'square-millimeter': 92903, 'square-micrometer': 9.2903e10, hectare: 9.2903e-6,
                        'square-mile': 3.587e-8, 'square-yard': 0.111111, 'square-inch': 144, acre: 2.2957e-5,
                        'square-foot': 1
                    },
                    'square-inch': {
                        'square-meter': 0.00064516, 'square-kilometer': 6.4516e-10, 'square-centimeter': 6.4516,
                        'square-millimeter': 645.16, 'square-micrometer': 6.4516e8, hectare: 6.4516e-8,
                        'square-mile': 2.491e-10, 'square-yard': 0.000771605, 'square-foot': 0.00694444, acre: 1.5942e-7,
                        'square-inch': 1
                    },
                    acre: {
                        'square-meter': 4046.86, 'square-kilometer': 0.00404686, 'square-centimeter': 4.047e7,
                        'square-millimeter': 4.047e9, 'square-micrometer': 4.047e15, hectare: 0.404686,
                        'square-mile': 0.0015625, 'square-yard': 4840, 'square-foot': 43560, 'square-inch': 6.27264e6,
                        acre: 1
                    }
                },
                volume: {
                    'cubic-meter': {
                        'cubic-kilometer': 1e-9, 'cubic-centimeter': 1e6, 'cubic-millimeter': 1e9,
                        liter: 1000, milliliter: 1e6, 'us-gallon': 264.172, 'us-quart': 1056.69,
                        'us-pint': 2113.38, 'us-cup': 4226.75, 'us-fluid-ounce': 33814,
                        'us-table-spoon': 67628, 'us-tea-spoon': 202884, 'imperial-gallon': 219.969,
                        'imperial-quart': 879.877, 'imperial-pint': 1759.75, 'imperial-fluid-ounce': 35195.1,
                        'cubic-meter': 1
                    },
                    'cubic-kilometer': {
                        'cubic-meter': 1e9, 'cubic-centimeter': 1e15, 'cubic-millimeter': 1e18,
                        liter: 1e12, milliliter: 1e15, 'us-gallon': 2.64172e11, 'us-quart': 1.05669e12,
                        'us-pint': 2.11338e12, 'us-cup': 4.22675e12, 'us-fluid-ounce': 3.3814e13,
                        'us-table-spoon': 6.7628e13, 'us-tea-spoon': 2.02884e14, 'imperial-gallon': 2.19969e11,
                        'imperial-quart': 8.79877e11, 'imperial-pint': 1.75975e12, 'imperial-fluid-ounce': 3.51951e13,
                        'cubic-kilometer': 1
                    },
                    'cubic-centimeter': {
                        'cubic-meter': 1e-6, 'cubic-kilometer': 1e-15, 'cubic-millimeter': 1000,
                        liter: 0.001, milliliter: 1, 'us-gallon': 0.000264172, 'us-quart': 0.00105669,
                        'us-pint': 0.00211338, 'us-cup': 0.00422675, 'us-fluid-ounce': 0.033814,
                        'us-table-spoon': 0.067628, 'us-tea-spoon': 0.202884, 'imperial-gallon': 0.000219969,
                        'imperial-quart': 0.000879877, 'imperial-pint': 0.00175975, 'imperial-fluid-ounce': 0.0351951,
                        'cubic-centimeter': 1
                    },
                    'cubic-millimeter': {
                        'cubic-meter': 1e-9, 'cubic-kilometer': 1e-18, 'cubic-centimeter': 0.001,
                        liter: 1e-6, milliliter: 0.001, 'us-gallon': 2.64172e-7, 'us-quart': 1.05669e-6,
                        'us-pint': 2.11338e-6, 'us-cup': 4.22675e-6, 'us-fluid-ounce': 3.3814e-5,
                        'us-table-spoon': 6.7628e-5, 'us-tea-spoon': 0.000202884, 'imperial-gallon': 2.19969e-7,
                        'imperial-quart': 8.79877e-7, 'imperial-pint': 1.75975e-6, 'imperial-fluid-ounce': 3.51951e-5,
                        'cubic-millimeter': 1
                    },
                    liter: {
                        'cubic-meter': 0.001, 'cubic-kilometer': 1e-12, 'cubic-centimeter': 1000,
                        'cubic-millimeter': 1e6, milliliter: 1000, 'us-gallon': 0.264172, 'us-quart': 1.05669,
                        'us-pint': 2.11338, 'us-cup': 4.22675, 'us-fluid-ounce': 33.814,
                        'us-table-spoon': 67.628, 'us-tea-spoon': 202.884, 'imperial-gallon': 0.219969,
                        'imperial-quart': 0.879877, 'imperial-pint': 1.75975, 'imperial-fluid-ounce': 35.1951,
                        liter: 1
                    },
                    milliliter: {
                        'cubic-meter': 1e-6, 'cubic-kilometer': 1e-15, 'cubic-centimeter': 1,
                        'cubic-millimeter': 1000, liter: 0.001, 'us-gallon': 0.000264172, 'us-quart': 0.00105669,
                        'us-pint': 0.00211338, 'us-cup': 0.00422675, 'us-fluid-ounce': 0.033814,
                        'us-table-spoon': 0.067628, 'us-tea-spoon': 0.202884, 'imperial-gallon': 0.000219969,
                        'imperial-quart': 0.000879877, 'imperial-pint': 0.00175975, 'imperial-fluid-ounce': 0.0351951,
                        milliliter: 1
                    },
                    'us-gallon': {
                        'cubic-meter': 0.00378541, 'cubic-kilometer': 3.78541e-12, 'cubic-centimeter': 3785.41,
                        'cubic-millimeter': 3.78541e6, liter: 3.78541, milliliter: 3785.41, 'us-quart': 4,
                        'us-pint': 8, 'us-cup': 16, 'us-fluid-ounce': 128,
                        'us-table-spoon': 256, 'us-tea-spoon': 768, 'imperial-gallon': 0.832674,
                        'imperial-quart': 3.3307, 'imperial-pint': 6.66139, 'imperial-fluid-ounce': 133.228,
                        'us-gallon': 1
                    },
                    'us-quart': {
                        'cubic-meter': 0.000946353, 'cubic-kilometer': 9.46353e-13, 'cubic-centimeter': 946.353,
                        'cubic-millimeter': 946353, liter: 0.946353, milliliter: 946.353, 'us-gallon': 0.25,
                        'us-pint': 2, 'us-cup': 4, 'us-fluid-ounce': 32,
                        'us-table-spoon': 64, 'us-tea-spoon': 192, 'imperial-gallon': 0.208169,
                        'imperial-quart': 0.832674, 'imperial-pint': 1.66538, 'imperial-fluid-ounce': 33.307,
                        'us-quart': 1
                    },
                    'us-pint': {
                        'cubic-meter': 0.000473176, 'cubic-kilometer': 4.73176e-13, 'cubic-centimeter': 473.176,
                        'cubic-millimeter': 473176, liter: 0.473176, milliliter: 473.176, 'us-gallon': 0.125,
                        'us-quart': 0.5, 'us-cup': 2, 'us-fluid-ounce': 16,
                        'us-table-spoon': 32, 'us-tea-spoon': 96, 'imperial-gallon': 0.104084,
                        'imperial-quart': 0.416337, 'imperial-pint': 0.832674, 'imperial-fluid-ounce': 16.6538,
                        'us-pint': 1
                    },
                    'us-cup': {
                        'cubic-meter': 0.000236588, 'cubic-kilometer': 2.36588e-13, 'cubic-centimeter': 236.588,
                        'cubic-millimeter': 236588, liter: 0.236588, milliliter: 236.588, 'us-gallon': 0.0625,
                        'us-quart': 0.25, 'us-pint': 0.5, 'us-fluid-ounce': 8,
                        'us-table-spoon': 16, 'us-tea-spoon': 48, 'imperial-gallon': 0.0520421,
                        'imperial-quart': 0.208169, 'imperial-pint': 0.416337, 'imperial-fluid-ounce': 8.32685,
                        'us-cup': 1
                    },
                    'us-fluid-ounce': {
                        'cubic-meter': 2.95735e-5, 'cubic-kilometer': 2.95735e-14, 'cubic-centimeter': 29.5735,
                        'cubic-millimeter': 29573.5, liter: 0.0295735, milliliter: 29.5735, 'us-gallon': 0.0078125,
                        'us-quart': 0.03125, 'us-pint': 0.0625, 'us-cup': 0.125,
                        'us-table-spoon': 2, 'us-tea-spoon': 6, 'imperial-gallon': 0.00650526,
                        'imperial-quart': 0.026021, 'imperial-pint': 0.0520421, 'imperial-fluid-ounce': 1.04084,
                        'us-fluid-ounce': 1
                    },
                    'us-table-spoon': {
                        'cubic-meter': 1.47868e-5, 'cubic-kilometer': 1.47868e-14, 'cubic-centimeter': 14.7868,
                        'cubic-millimeter': 14786.8, liter: 0.0147868, milliliter: 14.7868, 'us-gallon': 0.00390625,
                        'us-quart': 0.015625, 'us-pint': 0.03125, 'us-cup': 0.0625,
                        'us-fluid-ounce': 0.5, 'us-tea-spoon': 3, 'imperial-gallon': 0.00325263,
                        'imperial-quart': 0.0130105, 'imperial-pint': 0.026021, 'imperial-fluid-ounce': 0.520421,
                        'us-table-spoon': 1
                    },
                    'us-tea-spoon': {
                        'cubic-meter': 4.92892e-6, 'cubic-kilometer': 4.92892e-15, 'cubic-centimeter': 4.92892,
                        'cubic-millimeter': 4928.92, liter: 0.00492892, milliliter: 4.92892, 'us-gallon': 0.00130208,
                        'us-quart': 0.00520833, 'us-pint': 0.0104167, 'us-cup': 0.0208333,
                        'us-fluid-ounce': 0.166667, 'us-table-spoon': 0.333333, 'imperial-gallon': 0.00108421,
                        'imperial-quart': 0.00433684, 'imperial-pint': 0.Part 7 00867368, 'imperial-fluid-ounce': 0.173474,
                      
'us-tea-spoon': 1
                    },
                    'imperial-gallon': {
                        'cubic-meter': 0.00454609, 'cubic-kilometer': 4.54609e-12, 'cubic-centimeter': 4546.09,
                        'cubic-millimeter': 4.54609e6, liter: 4.54609, milliliter: 4546.09, 'us-gallon': 1.20095,
                        'us-quart': 4.8038, 'us-pint': 9.6076, 'us-cup': 19.2152,
                        'us-fluid-ounce': 153.722, 'us-table-spoon': 307.443, 'us-tea-spoon': 922.33,
                        'imperial-quart': 4, 'imperial-pint': 8, 'imperial-fluid-ounce': 160,
                        'imperial-gallon': 1
                    },
                    'imperial-quart': {
                        'cubic-meter': 0.00113652, 'cubic-kilometer': 1.13652e-12, 'cubic-centimeter': 1136.52,
                        'cubic-millimeter': 1.13652e6, liter: 1.13652, milliliter: 1136.52, 'us-gallon': 0.300238,
                        'us-quart': 1.20095, 'us-pint': 2.4019, 'us-cup': 4.8038,
                        'us-fluid-ounce': 38.4304, 'us-table-spoon': 76.8608, 'us-tea-spoon': 230.582,
                        'imperial-gallon': 0.25, 'imperial-pint': 2, 'imperial-fluid-ounce': 40,
                        'imperial-quart': 1
                    },
                    'imperial-pint': {
                        'cubic-meter': 0.000568261, 'cubic-kilometer': 5.68261e-13, 'cubic-centimeter': 568.261,
                        'cubic-millimeter': 568261, liter: 0.568261, milliliter: 568.261, 'us-gallon': 0.150119,
                        'us-quart': 0.600475, 'us-pint': 1.20095, 'us-cup': 2.4019,
                        'us-fluid-ounce': 19.2152, 'us-table-spoon': 38.4304, 'us-tea-spoon': 115.291,
                        'imperial-gallon': 0.125, 'imperial-quart': 0.5, 'imperial-fluid-ounce': 20,
                        'imperial-pint': 1
                    },
                    'imperial-fluid-ounce': {
                        'cubic-meter': 2.84131e-5, 'cubic-kilometer': 2.84131e-14, 'cubic-centimeter': 28.4131,
                        'cubic-millimeter': 28413.1, liter: 0.0284131, milliliter: 28.4131, 'us-gallon': 0.00750594,
                        'us-quart': 0.0300238, 'us-pint': 0.0600475, 'us-cup': 0.120095,
                        'us-fluid-ounce': 0.96076, 'us-table-spoon': 1.92152, 'us-tea-spoon': 5.76456,
                        'imperial-gallon': 0.00625, 'imperial-quart': 0.025, 'imperial-pint': 0.05,
                        'imperial-fluid-ounce': 1
                    }
                },
                weight: {
                    kilogram: {
                        gram: 1000, milligram: 1e6, 'metric-ton': 0.001, 'long-ton': 0.000984207,
                        'short-ton': 0.00110231, pound: 2.20462, ounce: 35.274, carat: 5000,
                        'atomic-mass-unit': 6.022e26, kilogram: 1
                    },
                    gram: {
                        kilogram: 0.001, milligram: 1000, 'metric-ton': 1e-6, 'long-ton': 9.84207e-7,
                        'short-ton': 1.10231e-6, pound: 0.00220462, ounce: 0.035274, carat: 5,
                        'atomic-mass-unit': 6.022e23, gram: 1
                    },
                    milligram: {
                        kilogram: 1e-6, gram: 0.001, 'metric-ton': 1e-9, 'long-ton': 9.84207e-10,
                        'short-ton': 1.10231e-9, pound: 2.20462e-6, ounce: 3.5274e-5, carat: 0.005,
                        'atomic-mass-unit': 6.022e20, milligram: 1
                    },
                    'metric-ton': {
                        kilogram: 1000, gram: 1e6, milligram: 1e9, 'long-ton': 0.984207,
                        'short-ton': 1.10231, pound: 2204.62, ounce: 35274, carat: 5e6,
                        'atomic-mass-unit': 6.022e29, 'metric-ton': 1
                    },
                    'long-ton': {
                        kilogram: 1016.05, gram: 1.016e6, milligram: 1.016e9, 'metric-ton': 1.01605,
                        'short-ton': 1.12, pound: 2240, ounce: 35840, carat: 5.0802e6,
                        'atomic-mass-unit': 6.126e29, 'long-ton': 1
                    },
                    'short-ton': {
                        kilogram: 907.185, gram: 907185, milligram: 9.07185e8, 'metric-ton': 0.907185,
                        'long-ton': 0.892857, pound: 2000, ounce: 32000, carat: 4.53592e6,
                        'atomic-mass-unit': 5.46e29, 'short-ton': 1
                    },
                    pound: {
                        kilogram: 0.453592, gram: 453.592, milligram: 453592, 'metric-ton': 0.000453592,
                        'long-ton': 0.000446429, 'short-ton': 0.0005, ounce: 16, carat: 2267.96,
                        'atomic-mass-unit': 2.73159e26, pound: 1
                    },
                    ounce: {
                        kilogram: 0.0283495, gram: 28.3495, milligram: 28349.5, 'metric-ton': 2.83495e-8,
                        'long-ton': 2.79018e-8, 'short-ton': 3.125e-8, pound: 0.0625, carat: 141.748,
                        'atomic-mass-unit': 1.7072e25, ounce: 1
                    },
                    carat: {
                        kilogram: 0.0002, gram: 0.2, milligram: 200, 'metric-ton': 2e-7,
                        'long-ton': 1.96841e-7, 'short-ton': 2.20462e-7, pound: 0.000440925, ounce: 0.00705479,
                        'atomic-mass-unit': 1.2044e23, carat: 1
                    },
                    'atomic-mass-unit': {
                        kilogram: 1.66054e-27, gram: 1.66054e-24, milligram: 1.66054e-21, 'metric-ton': 1.66054e-30,
                        'long-ton': 1.63435e-30, 'short-ton': 1.83e-30, pound: 3.6602e-27, ounce: 5.85632e-26,
                        carat: 8.3027e-24, 'atomic-mass-unit': 1
                    }
                }
            };

            function convertUnits(fromValue, fromUnit, toUnit, type) {
                if (!fromValue || fromUnit === toUnit) {
                    return parseFloat(fromValue).toFixed(2);
                }

                const value = parseFloat(fromValue);
                if (isNaN(value)) return '';

                if (type === 'temp') {
                    const tempConverter = conversionFactors.temp[fromUnit];
                    if (tempConverter && typeof tempConverter[toUnit] === 'function') {
                        return tempConverter[toUnit](value).toFixed(2);
                    }
                } else {
                    // Convert 'from' unit to a common base unit (e.g., 'meter' for length, 'kilogram' for weight)
                    let valueInBaseUnit;
                    if (conversionFactors[type][fromUnit]) {
                        // If direct conversion factor to base unit exists (e.g., meter: {kilometer: ...})
                        valueInBaseUnit = value; // Assume 'fromUnit' is the base if no special conversion needed
                        // This logic needs refinement for proper base unit conversion
                        // A more robust approach: define a base unit for each type (e.g., meter, kg)
                        // and then all conversions go: from_unit -> base_unit -> to_unit
                        if (type === 'length' && fromUnit !== 'meter') {
                            valueInBaseUnit = value * (1 / conversionFactors.length.meter[fromUnit]); // Convert to meter
                        } else if (type === 'weight' && fromUnit !== 'kilogram') {
                            valueInBaseUnit = value * (1 / conversionFactors.weight.kilogram[fromUnit]); // Convert to kilogram
                        } else if (type === 'area' && fromUnit !== 'square-meter') {
                            valueInBaseUnit = value * (1 / conversionFactors.area['square-meter'][fromUnit]); // Convert to square meter
                        } else if (type === 'volume' && fromUnit !== 'cubic-meter') {
                            valueInBaseUnit = value * (1 / conversionFactors.volume['cubic-meter'][fromUnit]); // Convert to cubic meter
                        } else {
                            valueInBaseUnit = value; // Already in base unit or no specific conversion needed
                        }
                    } else {
                        return ''; // Should not happen if all units are defined
                    }


                    // Now convert from base unit to 'toUnit'
                    let convertedValue;
                    if (conversionFactors[type][toUnit]) {
                        // If 'toUnit' is a base unit
                        convertedValue = valueInBaseUnit;
                    } else if (conversionFactors[type].meter && type === 'length') { // Assuming meter is the base for length
                        convertedValue = valueInBaseUnit * conversionFactors.length.meter[toUnit];
                    } else if (conversionFactors[type].kilogram && type === 'weight') { // Assuming kilogram is the base for weight
                        convertedValue = valueInBaseUnit * conversionFactors.weight.kilogram[toUnit];
                    } else if (conversionFactors[type]['square-meter'] && type === 'area') {
                        convertedValue = valueInBaseUnit * conversionFactors.area['square-meter'][toUnit];
                    } else if (conversionFactors[type]['cubic-meter'] && type === 'volume') {
                        convertedValue = valueInBaseUnit * conversionFactors.volume['cubic-meter'][toUnit];
                    } else {
                         return ''; // Conversion not found
                    }

                    return convertedValue.toFixed(6); // More precision for conversions
                }
                return '';
            }


            // Generic unit conversion function setup for inputs
            function setupUnitConversion(fromInput, fromSelect, toInput, toSelect, type) {
                const performConversion = () => {
                    const result = convertUnits(fromInput.value, fromSelect.value, toSelect.value, type);
                    toInput.value = result;
                };
                fromInput.addEventListener('input', performConversion);
                fromSelect.addEventListener('change', performConversion);
                toSelect.addEventListener('change', performConversion);
            }

            setupUnitConversion(lengthFromValue, lengthFromUnit, lengthToValue, lengthToUnit, 'length');
            setupUnitConversion(tempFromValue, tempFromUnit, tempToValue, tempToUnit, 'temp');
            setupUnitConversion(areaFromValue, areaFromUnit, areaToValue, areaToUnit, 'area');
            setupUnitConversion(volumeFromValue, volumeFromUnit, volumeToValue, volumeToUnit, 'volume');
            setupUnitConversion(weightFromValue, weightFromUnit, weightToValue, weightToUnit, 'weight');


            // BMI Calculation Logic
            calculateBtn.addEventListener('click', () => {
                let height, weight;
                let bmi, ponderalIndexValue, healthyWeightMin, healthyWeightMax;

                if (currentUnitSystem === 'metric') {
                    height = parseFloat(document.getElementById('height-cm').value) / 100; // cm to meters
                    weight = parseFloat(document.getElementById('weight-kg').value);
                } else if (currentUnitSystem === 'us') {
                    const feet = parseFloat(document.getElementById('height-feet').value);
                    const inches = parseFloat(document.getElementById('height-inches').value);
                    height = (feet * 12 + inches) * 0.0254; // feet and inches to meters
                    weight = parseFloat(document.getElementById('weight-pounds').value) * 0.453592; // pounds to kg
                } else {
                    alert('Please select Metric Units or US Units for BMI calculation.');
                    return;
                }

                if (isNaN(height) || isNaN(weight) || height <= 0 || weight <= 0) {
                    alert('Please enter valid height and weight values.');
                    return;
                }

                bmi = weight / (height * height);
                ponderalIndexValue = weight / (height * height * height); // Ponderal Index (kg/m^3)

                // Determine BMI status
                let status = '';
                let statusColor = '';
                let gaugeAngle = -90; // Angle for the gauge pointer, -90 for initial straight up

                // BMI ranges and corresponding angles (total 270 degrees from -135 to +135 relative to vertical)
                // -135deg (16) --- -90deg (18.5) --- 0deg (25) --- +45deg (30) --- +135deg (40)
                // Base angle is -90deg (straight up). Gauge spans 270 degrees (16 to 40)
                const minBMI = 16;
                const maxBMI = 40; // Max value on gauge
                const totalAngleRange = 270; // Total sweep of the gauge

                if (bmi < 18.5) {
                    status = 'Underweight';
                    statusColor = '#ffc107'; // Yellow
                    // Scale BMI from 16 to 18.5 over a section of the gauge
                    gaugeAngle = -135 + ((bmi - 16) / (18.5 - 16)) * 45; // Scales 16-18.5 to 0-45 degrees from start
                } else if (bmi >= 18.5 && bmi < 25) {
                    status = 'Normal';
                    statusColor = '#28a745'; // Green
                    gaugeAngle = -90 + ((bmi - 18.5) / (25 - 18.5)) * 90; // Scales 18.5-25 to 45-135 degrees
                } else if (bmi >= 25 && bmi < 30) {
                    status = 'Overweight';
                    statusColor = '#fd7e14'; // Orange
                    gaugeAngle = 0 + ((bmi - 25) / (30 - 25)) * 45; // Scales 25-30 to 135-180 degrees
                } else { // BMI >= 30
                    status = 'Obesity';
                    statusColor = '#dc3545'; // Red
                    gaugeAngle = 45 + ((bmi - 30) / (40 - 30)) * 90; // Scales 30-40 to 180-270 degrees
                }

                // Clamp gauge angle to prevent over-rotation beyond the visual limits
                gaugeAngle = Math.min(Math.max(gaugeAngle, -135), 135); // Max rotation from -135 to +135 relative to vertical


                bmiDisplay.textContent = bmi.toFixed(1);
                bmiStatus.textContent = `(${status})`;
                bmiStatus.style.color = statusColor;

                // Calculate healthy weight range based on BMI 18.5 to 25
                healthyWeightMin = 18.5 * (height * height);
                healthyWeightMax = 25 * (height * height);

                healthyBmiRange.textContent = `18.5 kg/m² - 25 kg/m²`;
                healthyWeightRange.textContent = `${healthyWeightMin.toFixed(1)} kg - ${healthyWeightMax.toFixed(1)} kg`;

                // BMI Prime calculation
                const bmiPrimeValue = bmi / 25; // BMI Prime is BMI divided by 25 (upper limit of normal)
                bmiPrime.textContent = bmiPrimeValue.toFixed(1);

                ponderalIndex.textContent = ponderalIndexValue.toFixed(1) + ' kg/m³';

                // Animate the gauge pointer
                gaugePointer.style.transform = `translateX(-50%) rotate(${gaugeAngle}deg)`;

                bmiResultSection.style.display = 'block'; // Show results
            });

            clearBtn.addEventListener('click', () => {
                document.getElementById('age').value = '25';
                document.querySelector('input[name="gender"][value="male"]').checked = true;
                document.getElementById('height-cm').value = '180';
                document.getElementById('weight-kg').value = '65';
                document.getElementById('height-feet').value = '5';
                document.getElementById('height-inches').value = '10';
                document.getElementById('weight-pounds').value = '160';

                bmiResultSection.style.display = 'none';
                gaugePointer.style.transform = `translateX(-50%) rotate(-90deg)`; // Reset pointer to initial position
            });

            // Initialize display based on default tab
            document.querySelector('.tab-button[data-unit="metric"]').click(); // Simulate click on Metric Units to set initial state
         });
        /* script.js content ends here */
    </script>
</body>
</html>
